{"version":3,"file":"connections-B7JSRTv3.js","sources":["../../../.svelte-kit/adapter-node/chunks/connections.js"],"sourcesContent":["import { d as db } from \"./database.js\";\nfunction getConnections() {\n  const row = db.prepare(\"SELECT base_url, api_key, temperature FROM connections WHERE id = 1\").get();\n  if (!row) {\n    return {\n      base_url: \"http://localhost:1234\",\n      api_key: \"\",\n      temperature: 0.2\n    };\n  }\n  return {\n    base_url: row.base_url,\n    api_key: row.api_key ?? \"\",\n    temperature: typeof row.temperature === \"number\" ? row.temperature : Number(row.temperature) || 0.2\n  };\n}\nfunction updateConnections(settings) {\n  const stmt = db.prepare(\n    \"UPDATE connections SET base_url = ?, api_key = ?, temperature = ? WHERE id = 1\"\n  );\n  const result = stmt.run(settings.base_url, settings.api_key, settings.temperature);\n  if (result.changes === 0) {\n    db.prepare(\"INSERT INTO connections (id, base_url, api_key, temperature) VALUES (1, ?, ?, ?)\").run(\n      settings.base_url,\n      settings.api_key,\n      settings.temperature\n    );\n  }\n}\nexport {\n  getConnections as g,\n  updateConnections as u\n};\n"],"names":[],"mappings":";;AACA,SAAS,cAAc,GAAG;AAC1B,EAAE,MAAM,GAAG,GAAG,EAAE,CAAC,OAAO,CAAC,qEAAqE,CAAC,CAAC,GAAG,EAAE;AACrG,EAAE,IAAI,CAAC,GAAG,EAAE;AACZ,IAAI,OAAO;AACX,MAAM,QAAQ,EAAE,uBAAuB;AACvC,MAAM,OAAO,EAAE,EAAE;AACjB,MAAM,WAAW,EAAE;AACnB,KAAK;AACL,EAAE;AACF,EAAE,OAAO;AACT,IAAI,QAAQ,EAAE,GAAG,CAAC,QAAQ;AAC1B,IAAI,OAAO,EAAE,GAAG,CAAC,OAAO,IAAI,EAAE;AAC9B,IAAI,WAAW,EAAE,OAAO,GAAG,CAAC,WAAW,KAAK,QAAQ,GAAG,GAAG,CAAC,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI;AACpG,GAAG;AACH;AACA,SAAS,iBAAiB,CAAC,QAAQ,EAAE;AACrC,EAAE,MAAM,IAAI,GAAG,EAAE,CAAC,OAAO;AACzB,IAAI;AACJ,GAAG;AACH,EAAE,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,WAAW,CAAC;AACpF,EAAE,IAAI,MAAM,CAAC,OAAO,KAAK,CAAC,EAAE;AAC5B,IAAI,EAAE,CAAC,OAAO,CAAC,kFAAkF,CAAC,CAAC,GAAG;AACtG,MAAM,QAAQ,CAAC,QAAQ;AACvB,MAAM,QAAQ,CAAC,OAAO;AACtB,MAAM,QAAQ,CAAC;AACf,KAAK;AACL,EAAE;AACF;;;;"}